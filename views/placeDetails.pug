doctype html
html(lang='en')
  head
    title Create Event
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    style
      include ../public/css/eventDetails.css
    //- link(rel='stylesheet', href='../css/eventDetails.css', type='text/css')
    link(href='https://fonts.googleapis.com/css?family=Open+Sans|Quicksand', rel='stylesheet')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js")

  body
    .grid
      .navbar
        span(style='font-size:30px;cursor:pointer', onclick='openNav()') ☰ Menu
        #mySidenav.sidenav
          a.closebtn(href='javascript:void(0)', onclick='closeNav()') ×
          a(href='/members/userProfile') Go to Profile
          a(href='/') Home
          a(href='/events/findEvent') Find Events
          a(href='/places') Places
          a(href='/events/createEvent') Create Event!
        a(href='/') 
            img.logo(src= "/logo.png", alt='GPS', width='80', height='80')

      //- Event picture displayed 
      .imageContent
        img.main_img(src=place.pictures, alt='main_image')

        //- Description of the events
      .main_content
        .textContent
          h2 #{place.placeName}
          p <b>Address:</b> #{place.placeAddress}
          p <b>Description:</b>
          p #{place.placeDescription}
          p.contacts <b>Contact Details:</b>
          p <b>Phone Number:</b> #{place.placePhone}
          p <b>Tags:</b> #{place.placeTags}
          br
            
      .footer
        p(style='color:white')
          | © 2019 Get People Socilaizing. All rights reserved.
          a(href='page2.html')
        a(href='page2.html')
        ul(style='color:white')
          a(href='page2.html')
          li
            a(href='page2.html')
            a(href='#') Privacy Policy
          li
            a(href='#') Terms of Service
          li
            a(href='#') Cookie Policy
    
    script.
        //- Navigation bar funtctions
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }

        //- Rating 
        //- function setRating(event){
        //-     let span = event.currentTarget;
        //-     let stars = document.querySelectorAll('.star');
        //-     let match = false;
        //-     let num = 0;
        //-     stars.forEach(function(star, index){
        //-         if(match){
        //-             star.classList.remove('rated');
        //-         } else {
        //-             star.classList.add('rated');
        //-         }
        //-         if(star == span){
        //-             match = true;
        //-             num = index + 1;
        //-         }
        //-     });
        //-     document.getElementById('stars').value = num;
        //- }
        //- Review
        //- $(function(){
        //-     $('#submitReview').submit(function(event) {
        //-         event.preventDefault();
        //-         var formData = {
        //-             eventID: $('#eventID')[0].value,
        //-             stars: $('#stars')[0].value,
        //-             desc: $('#desc')[0].value,
        //-             eventName: $('#eventName')[0].value
        //-         };

        //-         $.post('/ratings/addRating', formData, function(resp){
        //-             var stringUser = JSON.stringify(resp.userName);
        //-             var stringStars = JSON.stringify(resp.stars);
        //-             var stringDesc = JSON.stringify(resp.desc);

        //-             var addedRating = document.getElementById('addedRating');

        //-             var ratingBox = document.createElement('div');
        //-             ratingBox.className = 'rating_card';

        //-             var userText = document.createElement('p');
        //-             userText.innerHTML = stringUser;
        //-             var starText = document.createElement('p');
        //-             starText.innerHTML = stringStars;
        //-             var descText = document.createElement('p');
        //-             descText.innerHTML = stringDesc;

        //-             ratingBox.appendChild(userText);
        //-             ratingBox.appendChild(starText);
        //-             ratingBox.appendChild(descText);

        //-             addedRating.appendChild(ratingBox);
        //-         });
        //-     });
            //- Joining the event, Yes, No, Interested options
            //- YES
            //- $('#yes').click(function(event){
            //-     event.preventDefault();
            //-     var eventID = {
            //-         id: $('#eventID')[0].value
            //-     }
            //-     $.ajax({
            //-         url: '/events/joinEvent',
            //-         type: 'PUT',
            //-         data: eventID,
            //-         success: function(data){
            //-             alert("You are now joining this event");
            //-         },
            //-         error: function(){
            //-             alert("Please log in!");
            //-         }
            //-     });
            //- });
            //- NO
            //- $('#no').click(function(event){
            //-     event.preventDefault();
            //-     var eventID = {
            //-         id: $('#eventID')[0].value
            //-     }
            //-     $.ajax({
            //-         url: '/events/declineEvent',
            //-         type: 'PUT',
            //-         data: eventID,
            //-         success: function(data){
            //-             alert("You are no longer joining this event");
            //-         },
            //-         error: function(){
            //-             alert("Please log in!");
            //-         }
            //-     });
            //- });
            //- INTERESTED
            //- $('#interested').click(function(event){
            //-     event.preventDefault();
            //-     var eventID = {
            //-         id: $('#eventID')[0].value
            //-     }
            //-     $.ajax({
            //-         url: '/members/interested',
            //-         type: 'PUT',
            //-         data: eventID,
            //-         success: function(data){
            //-             alert("You are interested of this event");
            //-             if($('#interested').html() === "Interested")
            //-                 $('#interested').html("Not interested");
            //-             else
            //-                 $('#interested').html("Interested")
            //-         },
            //-         error: function(){
            //-             alert("Please log in!");
            //-         }
            //-     });
            //- });
        //- });

