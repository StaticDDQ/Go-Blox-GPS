doctype html
html(lang='en')
  head
    title Create Event
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    style
      include ../public/css/eventDetails.css
    //- link(rel='stylesheet', href='../css/eventDetails.css', type='text/css')
    link(href='https://fonts.googleapis.com/css?family=Open+Sans|Quicksand', rel='stylesheet')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js")

  body
    .grid
      .navbar
        span(style='font-size:30px;cursor:pointer', onclick='openNav()') ☰ Menu
        #mySidenav.sidenav
          a.closebtn(href='javascript:void(0)', onclick='closeNav()') ×
          a(href='/members/userProfile') Go to Profile
          a(href='/') Home
          a(href='/events/findEvent') Find Events
          a(href='/places') Places
          a(href='/events/createEvent') Create Event!
          a(href='/places/createPlace') Create Place!
          a#logout(href='/members/logout') Logout :(
        a(href='/') 
            img.logo(src= "/logo.png", alt='GPS', width='80', height='80')

      //- Event picture displayed 
      .imageContent
        img.main_img(src=place.pictures, alt='main_image')

        //- Description of the events
      .main_content
        .textContent
          h2 #{place.placeName}
          p <b>Address:</b> #{place.placeAddress}
          p <b>Description:</b>
          p #{place.placeDescription}
          p.contacts <b>Contact Details:</b>
          p <b>Phone Number:</b> #{place.placePhone}
          p <b>Category:</b> #{place.category}
          br
          #join
              -
                var txt = "Bookmark";
                if(isBookmarked)
                    txt = "Stop bookmark";
              button#bookmark(value= place.placeName) #{txt}
            
      .footer
        p(style='color:white')
          | © 2019 Get People Socilaizing. All rights reserved.
          a(href='page2.html')
        a(href='page2.html')
        ul(style='color:white')
          a(href='page2.html')
          li
            a(href='page2.html')
            a(href='#') Privacy Policy
          li
            a(href='#') Terms of Service
          li
            a(href='#') Cookie Policy
    
    script.
        //- Navigation bar funtctions
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }

        
        $(function(){
            $('#bookmark').click(function(event){
                event.preventDefault();
                var placeName = {
                    name: $(this)[0].value
                }
                if($(this).html() === "Bookmark"){
                    $.ajax({
                        url: '/members/bookmark',
                        type: 'PUT',
                        data: placeName,
                        success: function(data){
                            alert("Place has been bookmarked!");
                            $('#bookmark').html("Stop bookmark");
                        },
                        error: function(){
                            alert("Please log in!");
                        }
                    });
                }
                else{
                    $.ajax({
                        url: '/members/stopBookmark',
                        type: 'PUT',
                        data: placeName,
                        success: function(data){
                            alert("Bookmark removed!");
                            $('#bookmark').html("Bookmark");
                        },
                        error: function(){
                            alert("Please log in!");
                        }
                    });
                }
                
            });
        });

